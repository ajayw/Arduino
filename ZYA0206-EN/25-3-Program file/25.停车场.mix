<xml version="Mixly 2.0 rc3" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="?UZWFJ;d|k]dWga35PT|" x="-136" y="-802"><statement name="DO"><block type="variables_declare" id="eC!rMl^FIxcd!,DZ^w8i"><field name="variables_type">global_variate</field><field name="VAR">chewei</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="p;GQ/|;{F=m1/7jbd*#8"><field name="NUM">3</field></block></value><next><block type="servo_move" id=",D/evXwDmd#8(eu$u077"><field name="PIN">15</field><comment pinned="false" h="80" w="160">出口舵机初始角度</comment><value name="DEGREE"><shadow type="math_number" id="u@}bBfcfahJ|YW3ej#X@"><field name="NUM">90</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="?XTyC]qQhmOA.dj`VPtu"><field name="NUM">0</field></shadow></value><next><block type="servo_move" id="gSe;D9)@AaWzuZ9dI-?w"><field name="PIN">4</field><comment pinned="false" h="80" w="160">入口舵机初始角度</comment><value name="DEGREE"><shadow type="math_number" id="$O[vvJJxO9VRQ6d^z:i*"><field name="NUM">35</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="CKamr3Py/hAOX8@1GmB}"><field name="NUM">0</field></shadow></value><next><block type="oled_init" id="kg@!RTWFo-uBYW#0pM6H"><field name="OLED_TYPE">SSD1306_128X64_NONAME</field><field name="NAME">u8g2</field><field name="ROTATION">U8G2_R0</field><field name="SCL">32</field><field name="SDA">33</field><value name="ADDRESS"><shadow type="math_number" id="jb#blH=_?th!a]!#Onfk"><field name="NUM">0x3C</field></shadow></value><next><block type="oled_set_EN_Font" id="uZ)r2v5{Y[;p7R(,OC#i"><field name="NAME">u8g2</field><field name="FONT_NAME">tim</field><field name="FONT_SIZE">14</field><field name="FONT_STYLE">R</field></block></next></block></next></block></next></block></next></block></statement></block><block type="controls_if" id="UK6H@fe:1~s9G!P7XCXu" x="-136" y="-439"><value name="IF0"><block type="logic_operation" id="7SXSdjXRCw)I:?^#)1_r"><field name="OP">AND</field><comment pinned="false" h="80" w="160">判断条件：超声波检测距离小于15而且车位数量大于0（车位为0不抬杆）</comment><value name="A"><block type="logic_compare" id="00WoDd$+EsD)G?f`;8qW"><field name="OP">LT</field><value name="A"><block type="chaoshengbo2" id="k$vJq@w*[Pz:=7@rSX8h"><field name="Trig">25</field><field name="Echo">26</field></block></value><value name="B"><block type="math_number" id="0][{f43[pNT]jQB[S1=^"><field name="NUM">15</field></block></value></block></value><value name="B"><block type="logic_compare" id="ZYKTMA@W=.*lUgK=3w?p"><field name="OP">GT</field><value name="A"><block type="variables_get" id="bdo:5a[f[;_1n$bMh=g$"><field name="VAR">chewei</field></block></value><value name="B"><block type="math_number" id="w`8lqehs(84Cy51tSxT?"><field name="NUM">0</field></block></value></block></value></block></value><statement name="DO0"><block type="servo_move" id="HAV:k03(]Q]i2oZ@-w}t"><field name="PIN">4</field><value name="DEGREE"><shadow type="math_number" id="^e}B!P5QrrYjcM^xK]))"><field name="NUM">90</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="i2vh166:6sS],qoa:/oU"><field name="NUM">0</field></shadow></value><next><block type="control_core_delay" id="]EI4|l*HDz/Ek^[^-X3|"><value name="sleeplength"><shadow type="math_number" id="bIoZ^mbv-]/yKZd5)9vQ"><field name="NUM">3000</field></shadow></value><next><block type="servo_move" id="2d$6~kDrW{VMsnzW[f?l"><field name="PIN">4</field><value name="DEGREE"><shadow type="math_number" id="(0*.m=b(JO3QrE|blWFj"><field name="NUM">35</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="E|^_R]`U_FR9YrKY3Yc!"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="OmPXiGr`:qzo4TO{kEtL"><field name="VAR">chewei</field><value name="VALUE"><block type="math_arithmetic" id="?]w0Eqh9*4$`LKJ,twt9"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="sj,nAK/Fz82_KJIltgZQ"><field name="VAR">chewei</field></block></value><value name="B"><shadow type="math_number" id="4mgQZ-bof}Qe[gyuFG,r"><field name="NUM">1</field></shadow></value></block></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="wQ-JdG=}iA.k3R1@`JEM"><value name="IF0"><block type="logic_operation" id="s/^8#7A+6+oHUGZ{ys=K"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="#lY+F[L34GJ$yiZ0y+hC"><field name="OP">EQ</field><value name="A"><block type="inout_digital_read2" id=";#*OWe(ch`8y0tQ=O]ub"><value name="PIN"><shadow type="pins_digital" id="?^Wxy$cLr|ashv9OUUhg"><field name="PIN">5</field></shadow></value></block></value><value name="B"><block type="inout_highlow" id="IfV0!bwg9)?gze/0)s10"><field name="BOOL">LOW</field></block></value></block></value><value name="B"><block type="logic_compare" id="R@+38o;Ex_K$mYjYF/9n"><field name="OP">LT</field><value name="A"><block type="variables_get" id="s9)d/UmBV:`@Wy);L]g{"><field name="VAR">chewei</field></block></value><value name="B"><block type="math_number" id="s_YyYI~v!rA}41d;+pzf"><field name="NUM">3</field></block></value></block></value></block></value><statement name="DO0"><block type="servo_move" id="C/Dh}o;|#uI^QN./n@2$"><field name="PIN">15</field><value name="DEGREE"><shadow type="math_number" id="(1f6=?LcgWNtOg;($!uK"><field name="NUM">35</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="E@P2@E:^sV*Q1]NfQFMs"><field name="NUM">0</field></shadow></value><next><block type="control_core_delay" id="F,JJvAzGyy1M+jPt`,AR"><value name="sleeplength"><shadow type="math_number" id="`rNxPsD?p5j;Zc-+^vLr"><field name="NUM">3000</field></shadow></value><next><block type="servo_move" id="i|L*MSyB}W=)`jvNSXry"><field name="PIN">15</field><value name="DEGREE"><shadow type="math_number" id="7@:,:*fhe@8AASlcYeEx"><field name="NUM">90</field></shadow></value><value name="DELAY_TIME"><shadow type="math_number" id="z/*g-S8)t8O^aS.WX$k*"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="mL1W59lVRW4OY9#!kx10"><field name="VAR">chewei</field><value name="VALUE"><block type="math_arithmetic" id="V9T7EVOt!8n|1qc{9+TT"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">1</field></shadow><block type="variables_get" id="=3,/~ygSphgS$lvB{:_a"><field name="VAR">chewei</field></block></value><value name="B"><shadow type="math_number" id="UNxN6TjEL,_790EL_pv7"><field name="NUM">1</field></shadow></value></block></value></block></next></block></next></block></next></block></statement><next><block type="oled_page" id="J4MfQ,HowL@`rlhA1V$;"><field name="NAME">u8g2</field><statement name="DO"><block type="oled_print" id="t^2L2rEE)Hn7,ACpg~,k"><field name="NAME">u8g2</field><value name="POS_X"><shadow type="math_number" id="QhICt78by{9vgRuV.@q{"><field name="NUM">0</field></shadow></value><value name="POS_Y"><shadow type="math_number" id="AZl@X@z((ad0tt]eEKOj"><field name="NUM">20</field></shadow></value><value name="TEXT"><shadow type="text"><field name="TEXT">1234</field></shadow><block type="text_join" id="O(k,^HAyT|g9:gFd?jo$"><value name="A"><shadow type="text" id="YZZ2VfZ=s$3_}|cG_{]J"><field name="TEXT">remaining: </field></shadow></value><value name="B"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="sG)X)KcAc51]c=G~r9_)"><field name="VAR">chewei</field></block></value></block></value></block></statement><next><block type="serial_print" id="Bv9v=h5!mnqdKtQy{dm("><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text_join" id="opV{?{;FWyK*D8zQ-Bzw"><value name="A"><shadow type="text" id="t=-u2kTc$?MI_}@6j(eW"><field name="TEXT"> 超声波 </field></shadow></value><value name="B"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="chaoshengbo2" id="boX+Q/{F;O=UYi10O7w{"><field name="Trig">25</field><field name="Echo">26</field></block></value></block></value><next><block type="serial_print" id="H9.sn7.2ARixI?~ApRex"><field name="serial_select">Serial</field><field name="new_line">println</field><value name="CONTENT"><block type="text_join" id=";So(ZYFMJ(Lf/Qw=-/8."><value name="A"><shadow type="text" id="cc}H-Q}7)rn1d2tFLq6D"><field name="TEXT"> 车位：</field></shadow></value><value name="B"><shadow type="text"><field name="TEXT">Mixly</field></shadow><block type="variables_get" id="0JyO20YgiYl~{[xv[r80"><field name="VAR">chewei</field></block></value></block></value></block></next></block></next></block></next></block></next></block></xml><config>{"PSRAM":"disabled","PartitionScheme":"default","CPUFreq":"240","FlashMode":"qio","FlashFreq":"80","FlashSize":"4M","UploadSpeed":"921600","LoopCore":"1","EventsCore":"1"}</config><code>CiNpbmNsdWRlIDxFU1AzMl9TZXJ2by5oPgojaW5jbHVkZSA8VThnMmxpYi5oPgojaW5jbHVkZSA8V2lyZS5oPgoKdm9sYXRpbGUgaW50IGNoZXdlaTsKU2Vydm8gc2Vydm9fMTU7ClNlcnZvIHNlcnZvXzQ7ClU4RzJfU1NEMTMwNl8xMjhYNjRfTk9OQU1FX0ZfU1dfSTJDIHU4ZzIoVThHMl9SMCwgIDMyLCAzMywgVThYOF9QSU5fTk9ORSk7CgpmbG9hdCBjaGVja2Rpc3RhbmNlXzI1XzI2KCkgewogIGRpZ2l0YWxXcml0ZSgyNSwgTE9XKTsKICBkZWxheU1pY3Jvc2Vjb25kcygyKTsKICBkaWdpdGFsV3JpdGUoMjUsIEhJR0gpOwogIGRlbGF5TWljcm9zZWNvbmRzKDEwKTsKICBkaWdpdGFsV3JpdGUoMjUsIExPVyk7CiAgZmxvYXQgZGlzdGFuY2UgPSBwdWxzZUluKDI2LCBISUdIKSAvIDU4LjAwOwogIGRlbGF5KDEwKTsKICByZXR1cm4gZGlzdGFuY2U7Cn0KCnZvaWQgc2V0dXAoKXsKICBjaGV3ZWkgPSAzOwogIHNlcnZvXzE1LmF0dGFjaCgxNSw1MDAsMjUwMCk7CiAgc2Vydm9fNC5hdHRhY2goNCw1MDAsMjUwMCk7CiAgdThnMi5zZXRJMkNBZGRyZXNzKDB4M0MqMik7CiAgdThnMi5iZWdpbigpOwogIC8vIOWHuuWPo+iIteacuuWIneWni+inkuW6pgogIHNlcnZvXzE1LndyaXRlKDkwKTsKICBkZWxheSgwKTsKICAvLyDlhaXlj6PoiLXmnLrliJ3lp4vop5LluqYKICBzZXJ2b180LndyaXRlKDM1KTsKICBkZWxheSgwKTsKICB1OGcyLnNldEZvbnQodThnMl9mb250X3RpbVIxNF90Zik7CiAgdThnMi5zZXRGb250UG9zVG9wKCk7CiAgcGluTW9kZSgyNSwgT1VUUFVUKTsKICBwaW5Nb2RlKDI2LCBJTlBVVCk7CiAgcGluTW9kZSg1LCBJTlBVVCk7CiAgdThnMi5lbmFibGVVVEY4UHJpbnQoKTsKCiAgU2VyaWFsLmJlZ2luKDk2MDApOwp9Cgp2b2lkIGxvb3AoKXsKICAvLyDliKTmlq3mnaHku7bvvJrotoXlo7Dms6Lmo4DmtYvot53nprvlsI/kuo4xNeiAjOS4lOi9puS9jeaVsOmHj+Wkp+S6jjDvvIjovabkvY3kuLow5LiN5oqs5p2G77yJCiAgaWYgKGNoZWNrZGlzdGFuY2VfMjVfMjYoKSA8IDE1ICYmIGNoZXdlaSA+IDApIHsKICAgIHNlcnZvXzQud3JpdGUoOTApOwogICAgZGVsYXkoMCk7CiAgICB2VGFza0RlbGF5KDMwMDApOwogICAgc2Vydm9fNC53cml0ZSgzNSk7CiAgICBkZWxheSgwKTsKICAgIGNoZXdlaSA9IGNoZXdlaSAtIDE7CgogIH0KICBpZiAoZGlnaXRhbFJlYWQoNSkgPT0gTE9XICYmIGNoZXdlaSA8IDMpIHsKICAgIHNlcnZvXzE1LndyaXRlKDM1KTsKICAgIGRlbGF5KDApOwogICAgdlRhc2tEZWxheSgzMDAwKTsKICAgIHNlcnZvXzE1LndyaXRlKDkwKTsKICAgIGRlbGF5KDApOwogICAgY2hld2VpID0gY2hld2VpICsgMTsKCiAgfQogIHU4ZzIuZmlyc3RQYWdlKCk7CiAgZG8KICB7CiAgICB1OGcyLnNldEN1cnNvcigwLDIwKTsKICAgIHU4ZzIucHJpbnQoU3RyaW5nKCJyZW1haW5pbmc6ICIpICsgU3RyaW5nKGNoZXdlaSkpOwogIH13aGlsZSh1OGcyLm5leHRQYWdlKCkpOwogIFNlcmlhbC5wcmludGxuKFN0cmluZygiIOi2heWjsOazoiAiKSArIFN0cmluZyhjaGVja2Rpc3RhbmNlXzI1XzI2KCkpKTsKICBTZXJpYWwucHJpbnRsbihTdHJpbmcoIiDovabkvY3vvJoiKSArIFN0cmluZyhjaGV3ZWkpKTsKCn0=</code>