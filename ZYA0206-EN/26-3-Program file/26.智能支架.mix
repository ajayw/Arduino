<xml version="Mixly 2.0 rc3" board="Arduino ESP32@ESP32 Dev Module"><block type="base_setup" id="@AXcL8K=?+61wvBU*9bI" x="-690" y="-673"><statement name="DO"><block type="variables_declare" id="XzfAuz#OGiK#wGUk7XB7"><field name="variables_type">global_variate</field><field name="VAR">num_h</field><field name="TYPE">int</field><comment pinned="false" h="80" w="160">控制水平旋转舵机角度变量</comment><value name="VALUE"><block type="math_number" id="*WzR|ln;A2b+pO8pesyZ"><field name="NUM">90</field></block></value><next><block type="variables_declare" id="1(XdmI05qeBze#neM@~5"><field name="variables_type">global_variate</field><field name="VAR">num_v</field><field name="TYPE">int</field><comment pinned="false" h="80" w="160">控制抬杆的上舵机角度变量</comment><value name="VALUE"><block type="math_number" id="-lHFWob`+-^yed*v8u]z"><field name="NUM">120</field></block></value><next><block type="variables_declare" id="t^=vmScpmH7~SpdrgsQC"><field name="variables_type">global_variate</field><field name="VAR">item</field><field name="TYPE">int</field><comment pinned="false" h="80" w="160">用来做标志的变量，1为逆转，0为顺转</comment><value name="VALUE"><block type="math_number" id="RjGeW75Vm+$3_h80PFw+"><field name="NUM">1</field></block></value></block></next></block></next></block></statement></block><block type="variables_set" id="QSvh)h1VSfSV9s$B?,s*" x="-690" y="-467"><field name="VAR">num_v</field><comment pinned="false" h="80" w="160">垂直舵机变量：26号引脚电位器控制舵机角度在90~120之间抬起或放下</comment><value name="VALUE"><block type="base_map" id="P=jLzuzxIR2A=G$a?cEe"><field name="maptype">map_int</field><value name="NUM"><block type="inout_analog_read" id="Rm_P*+$6rjmQWhTM@KMh"><value name="PIN"><shadow type="pins_analog" id=";Ew/yZ8|,[FOeclG^kFn"><field name="PIN">26</field></shadow></value></block></value><value name="fromLow"><shadow type="math_number" id="GOO3]F@sD0kHS:e.2(wu"><field name="NUM">1</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="n!nb`ti/gSMS:**^bLWE"><field name="NUM">4095</field></shadow></value><value name="toLow"><shadow type="math_number" id="r,xsI@`4[2MRNGnR{Mh1"><field name="NUM">90</field></shadow></value><value name="toHigh"><shadow type="math_number" id="`Jr+/7`5(x!LdTa:w=RK"><field name="NUM">120</field></shadow></value></block></value><next><block type="servo_move" id="XQ)MO23^f)(a7eWzJT$z"><field name="PIN">4</field><comment pinned="false" h="80" w="160">垂直舵机抬起或放下</comment><value name="DEGREE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="*hWElvl@#2.z3S=}TUq["><field name="VAR">num_v</field></block></value><value name="DELAY_TIME"><shadow type="math_number" id="yk9ZGB+sOTr!L9:QgkIz"><field name="NUM">50</field></shadow></value><next><block type="controls_if" id="tVbD3@;s{z@:g7kVJ:U^"><comment pinned="false" h="80" w="160">按钮B按下后底盘水平舵机在35~135度之间往复转动，直到松开按钮</comment><value name="IF0"><block type="logic_compare" id="gMS_Rh?VR/Ll|E*n`(n;"><field name="OP">EQ</field><value name="A"><block type="inout_digital_read2" id="O{0x)_!;D#*z]=]}5_v~"><value name="PIN"><shadow type="pins_digital" id="4bh76sDIH2oZO@z0$TQf"><field name="PIN">5</field></shadow></value></block></value><value name="B"><block type="math_number" id="/Wr5d1YaQ6nUZIVRt1S@"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="controls_if" id="0b1Ph*1AKVIMOg@d=0e*"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">item=1为左转，到达极限位置145时item赋值为0，这时编程右转，直到小于35度时再恢复左转，如此重复</comment><value name="IF0"><block type="logic_operation" id="(E=wngX3TGUq|IzWN_r;"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="c^2X[l5/8k==C_9pYZB+"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="PU#Jid3Ie(JWLDB5Vbgd"><field name="VAR">item</field></block></value><value name="B"><block type="math_number" id="`_^M._vzUo#z-H[ZL*,$"><field name="NUM">1</field></block></value></block></value><value name="B"><block type="logic_compare" id="FAYs+az@Pd/6PUB$furf"><field name="OP">LTE</field><value name="A"><block type="variables_get" id="d3mSS{:@Y$X$r=9z{bX{"><field name="VAR">num_h</field></block></value><value name="B"><block type="math_number" id=".!cb$j!#)Zj#S+VIVZQ`"><field name="NUM">145</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id="s`n*ox{Qdw;;Qf@jk~;5"><field name="type">+</field><value name="variables"><shadow type="math_number"><field name="NUM">item</field></shadow><block type="variables_get" id="b5Jg_WzbWj)J59#~f.7o"><field name="VAR">num_h</field></block></value><value name="data"><shadow type="math_number" id="}Z6sZ)SUe)g}BrnzsRZF"><field name="NUM">1</field></shadow></value><next><block type="servo_move" id="cR/X-,E7E]W)9:jlG`,A"><field name="PIN">15</field><value name="DEGREE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="IZ6,h97^PFsa|*{I0!R6"><field name="VAR">num_h</field></block></value><value name="DELAY_TIME"><shadow type="math_number" id="K?4TeWKP`FiAeuMKV:Xs"><field name="NUM">50</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="F0]02s;yod?^5SB$xxhx"><field name="VAR">item</field><value name="VALUE"><block type="math_number" id="I.aY?-0WgUZCoIp5cBDw"><field name="NUM">0</field></block></value></block></statement><next><block type="controls_if" id="N28hmwHtU8)?b$tQ8@qc"><mutation else="1"></mutation><value name="IF0"><block type="logic_operation" id="3+Cz-h@Fq;FfHlN(#kGb"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="YS5@t5*8c/0MBqr1Umeo"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="-!,wz!,w2wa[#;`Lb,ut"><field name="VAR">item</field></block></value><value name="B"><block type="math_number" id="5tFL_mJ)$?mQ/cNeR6~4"><field name="NUM">0</field></block></value></block></value><value name="B"><block type="logic_compare" id="]6f,*+-pA=3*Ajf}ZYcg"><field name="OP">GTE</field><value name="A"><block type="variables_get" id="=I^WetaRx:e5C.:?(?7B"><field name="VAR">num_h</field></block></value><value name="B"><block type="math_number" id="Ma_P;U5q,U,r#e)shvB,"><field name="NUM">35</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id="-L?Rx^#|sEtY7+,_fq0u"><field name="type">-</field><value name="variables"><shadow type="math_number"><field name="NUM">item</field></shadow><block type="variables_get" id="{lGdS?~(/bc@J$6;S;Xp"><field name="VAR">num_h</field></block></value><value name="data"><shadow type="math_number" id="Rg]9=KKb3CDZ~#+Iy_T)"><field name="NUM">1</field></shadow></value><next><block type="servo_move" id="?}bB+E5t38Yau/]7vr+#"><field name="PIN">15</field><value name="DEGREE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="}~PQy,9:T$DtpZ:nIg5k"><field name="VAR">num_h</field></block></value><value name="DELAY_TIME"><shadow type="math_number" id="qS8QWA.^/m;GEMRfk=@m"><field name="NUM">50</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="_*-?@JWmz$=`Dj{8q3q!"><field name="VAR">item</field><value name="VALUE"><block type="math_number" id="eb|I(w:faSp}t51kKtk4"><field name="NUM">1</field></block></value></block></statement></block></next></block></statement></block></next></block></next></block></xml><config>{"PSRAM":"disabled","PartitionScheme":"default","CPUFreq":"240","FlashMode":"qio","FlashFreq":"80","FlashSize":"4M","UploadSpeed":"921600","LoopCore":"1","EventsCore":"1"}</config><code>CiNpbmNsdWRlIDxFU1AzMl9TZXJ2by5oPgoKdm9sYXRpbGUgaW50IG51bV9oOwp2b2xhdGlsZSBpbnQgbnVtX3Y7CnZvbGF0aWxlIGludCBpdGVtOwpTZXJ2byBzZXJ2b180OwpTZXJ2byBzZXJ2b18xNTsKCnZvaWQgc2V0dXAoKXsKICBudW1faCA9IDkwOwogIG51bV92ID0gMTIwOwogIGl0ZW0gPSAxOwogIC8vIOaOp+WItuawtOW5s+aXi+i9rOiIteacuuinkuW6puWPmOmHjwogIC8vIOaOp+WItuaKrOadhueahOS4iuiIteacuuinkuW6puWPmOmHjwogIC8vIOeUqOadpeWBmuagh+W/l+eahOWPmOmHj++8jDHkuLrpgIbovazvvIww5Li66aG66L2sCiAgcGluTW9kZSgyNiwgSU5QVVQpOwogIHNlcnZvXzQuYXR0YWNoKDQsNTAwLDI1MDApOwogIHBpbk1vZGUoNSwgSU5QVVQpOwogIHNlcnZvXzE1LmF0dGFjaCgxNSw1MDAsMjUwMCk7Cn0KCnZvaWQgbG9vcCgpewogIC8vIOWeguebtOiIteacuuWPmOmHj++8mjI25Y+35byV6ISa55S15L2N5Zmo5o6n5Yi26Ii15py66KeS5bqm5ZyoOTB+MTIw5LmL6Ze05oqs6LW35oiW5pS+5LiLCiAgbnVtX3YgPSAobWFwKGFuYWxvZ1JlYWQoMjYpLCAxLCA0MDk1LCA5MCwgMTIwKSk7CiAgLy8g5Z6C55u06Ii15py65oqs6LW35oiW5pS+5LiLCiAgc2Vydm9fNC53cml0ZShudW1fdik7CiAgZGVsYXkoNTApOwogIC8vIOaMiemSrkLmjInkuIvlkI7lupXnm5jmsLTlubPoiLXmnLrlnKgzNX4xMzXluqbkuYvpl7TlvoDlpI3ovazliqjvvIznm7TliLDmnb7lvIDmjInpkq4KICBpZiAoZGlnaXRhbFJlYWQoNSkgPT0gMCkgewogICAgLy8gaXRlbT0x5Li65bem6L2s77yM5Yiw6L6+5p6B6ZmQ5L2N572uMTQ15pe2aXRlbei1i+WAvOS4ujDvvIzov5nml7bnvJbnqIvlj7PovazvvIznm7TliLDlsI/kuo4zNeW6puaXtuWGjeaBouWkjeW3pui9rO+8jOWmguatpOmHjeWkjQogICAgaWYgKGl0ZW0gPT0gMSAmJiBudW1faCA8PSAxNDUpIHsKICAgICAgbnVtX2ggPSBudW1faCArIDE7CiAgICAgIHNlcnZvXzE1LndyaXRlKG51bV9oKTsKICAgICAgZGVsYXkoNTApOwoKICAgIH0gZWxzZSB7CiAgICAgIGl0ZW0gPSAwOwoKICAgIH0KICAgIGlmIChpdGVtID09IDAgJiYgbnVtX2ggPj0gMzUpIHsKICAgICAgbnVtX2ggPSBudW1faCAtIDE7CiAgICAgIHNlcnZvXzE1LndyaXRlKG51bV9oKTsKICAgICAgZGVsYXkoNTApOwoKICAgIH0gZWxzZSB7CiAgICAgIGl0ZW0gPSAxOwoKICAgIH0KCiAgfQoKfQ==</code>